@api = http://localhost:5001/api
@accessToken = eyJraWQiOiJYUU9RK0NBSmxmVGF5TUQyclR5SEQzcGxDclBCN2lob3N1XC84cW9CWjlQQT0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiIwODkyNWFkZS05MjQ5LTQ3NmItODc4Ny1iM2RkOGY1ZGJjMTMiLCJldmVudF9pZCI6IjRiMDQ0NWM1LTc1NzUtNGJiZi1hY2YzLTU5NzRkODdlNzYxYiIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoiYXdzLmNvZ25pdG8uc2lnbmluLnVzZXIuYWRtaW4gcGhvbmUgb3BlbmlkIHByb2ZpbGUgZW1haWwiLCJhdXRoX3RpbWUiOjE2MTQyNzQyMjQsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC51cy1lYXN0LTEuYW1hem9uYXdzLmNvbVwvdXMtZWFzdC0xX2k2cFdKeHU4cSIsImV4cCI6MTYxNDI3NzgyNCwiaWF0IjoxNjE0Mjc0MjI0LCJ2ZXJzaW9uIjoyLCJqdGkiOiJkZjQ3ZWZkYy0wOGRhLTQ0MDYtOGE5ZS1lMzU3M2MzYTJlMDUiLCJjbGllbnRfaWQiOiI1Ymw5ZTdlMWsydmY5NjZubGppZHVkNnA1diIsInVzZXJuYW1lIjoiZGlsbGFuIn0.QEEmoLcPTd6DDrsNYDQzWA2a0W6sgBgCYpAHKhR_zRoXmeI3Qp7c9FVT3QEZNT3-3mb3OvcVMRdF5jwypkmrDc7pDzpFFdkY9vq5kO_gexUFTe5jdHmL1bZlkxeUX_Qj0eSVn6glTKgQ34N990-kn2QMVcih_oKW0nCYd-LJRTt7qYxKRDy7Ok5g3-M92Drn-nwLQYx-CRmbXuZRIssZhdbdLh3YLFP4VtL024fMNskZmEqgoVIR69nKBo8NZyfUkIuhcKMQbNdgJPGduNS3gbqXWsoxGO3F-_vWexc0-sVJc-c5bdFhQj73HKyIeqOV4bOd2-_CxsywohDSVTh0sQ
# Ensure this is in the Countries Table
@countryId = 1 
# From AWS Cognito
@userLoginId = 08925ade-9249-476b-8787-b3dd8f5dbc13

# ============== IDENTITY ==================== #
POST {{api}}/authorization/login 
Content-Type: application/json

{
    "username": "superuser", "password": "Password#1"
}

# ============== UTILITY / TESTS ==================== #
GET {{api}}/
GET {{api}}/auth
Authorization: Bearer {{accessToken}}


# ============== GROUPS ==================== #
# GetAllPersonsGroups
@personId = 1 
GET {{api}}/v1/groups/{{personId}}}

# GetAllCurrentUsersGroups
GET {{api}}/v1/groups/current-person
Content-Type: application/json
Authorization: Bearer {{accessToken}}

# BrowseGroups
POST {{api}}/v1/groups/browse
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
    "searchTerm": "First",    
    "page": 1,
    "results": 20,
    "orderBy": "Name",
    "sortOrder": "DESC"
}

# ============== PEOPLE ==================== #
# New Family
POST {{api}}/v1/people/family/new
Content-Type: application/json
Authorization: Bearer {{accessToken}}

{
	"familyName": "Cagnetta",
	"members": [{
		"churchId": 1,
		"connectionStatus": "New Convert",
		"source": "Outreach",
		"person": {
			"firstName": "Dillan",
			"middleName": "Dillan",
			"lastName": "Cagnetta",
			"gender": "Male",
			"ageClassification": "Adult",
			"occupation": "Software",
			"birthDate": {
			  	"day" : 6,
				"month" : 11,
				"year" : 1908
			},
			"receivedHolySpirit": false
		}
	}],
	"address": {
		"street": "4283 Express Lane\nSuite 6432-188",
		"city": "Sarasota",
		"country": "United States of America",
		"province": "FLORIDA",
		"postalCode": "34249"
	}
}	

# ============== PROFILES ==================== #
# GetCurrentUserProfileByUserLogin
GET {{api}}/v1/profiles/current-user
Content-Type: application/json
Authorization: Bearer {{accessToken}}

GET {{api}}/v1/profiles/userlogin/{{userLoginId}}
Content-Type: application/json
Authorization: Bearer {{accessToken}}